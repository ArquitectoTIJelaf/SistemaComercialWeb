@using SisComWeb.Aplication.Helpers
@{
    var usuario = DataSession.UsuarioLogueado;
}

<style type="text/css">
    [type="radio"]:checked,
    [type="radio"]:not(:checked) {
        position: absolute;
        left: -9999px;
    }

        [type="radio"]:checked + label,
        [type="radio"]:not(:checked) + label {
            position: relative;
            padding-left: 20px;
            cursor: pointer;
            line-height: 20px;
            display: inline-block;
            color: #f7fafc;
        }

            [type="radio"]:checked + label:before,
            [type="radio"]:checked + label:before,
            [type="radio"]:not(:checked) + label:before {
                content: '';
                position: absolute;
                left: 0;
                top: 0;
                width: 16px;
                height: 16px;
                border: 2px solid white;
                border-radius: 100%;
            }

            [type="radio"]:checked + label:after,
            [type="radio"]:not(:checked) + label:after {
                content: '';
                width: 12px;
                height: 12px;
                background: #27e15e;
                position: absolute;
                top: 2px;
                left: 2px;
                border-radius: 100%;
                -webkit-transition: all 0.2s ease;
                transition: all 0.2s ease;
            }

            [type="radio"]:not(:checked) + label:after {
                opacity: 0;
                -webkit-transform: scale(0);
                transform: scale(0);
            }

            [type="radio"]:checked + label:after {
                opacity: 1;
                -webkit-transform: scale(1);
                transform: scale(1);
            }
</style>

<div id="appVueVenta" v-show="showVentas" class="row">
    <div class="col-md-12">
        <div class="white-box" style="padding: 10px 0 15px 0;">
            <div>
                <div class="row">
                    <div id="FiltersVentas" class="col-md-12 panel panel-default" style="margin-bottom: 15px;">
                        <div class="col-md-12 m-b-5">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label class="control-label">Empresa:</label>
                                    <v-select id="cboEmpresa"
                                              placeholder="EMPRESA"
                                              v-model="filtro.CodiEmpresa"
                                              :options="list.empresas"
                                              :select-on-tab="true"
                                              :get-option-label="getLabel"
                                              @@input="$refs.refEmpresa.typeAheadPointer = $getSelectorVselect(list.empresas, filtro.CodiEmpresa)"
                                              @@keydown.13.native.prevent="nextStep(1)"
                                              @*@@keydown.9.native.prevent="nextStep(1)"*@
                                              ref="refEmpresa">
                                        <template slot="option" slot-scope="option">
                                            <div @@click="nextStep(1)">{{ option.id }} - {{ option.label }}</div>
                                        </template>
                                        <span slot="no-options" class="text-danger">No hay resultados</span>
                                    </v-select>
                                </div>
                            </div>
                            <div class="col-md-2" style="text-align: center; margin-top: 30px; color: var(--emp-color); ">
                                <label class="control-label">Nº VIAJE: {{filtro.NroViaje | concatZero(6)}}</label>
                            </div>
                            <div class="col-md-2" style="text-align: center; margin-top: 30px; color: var(--emp-color); ">
                                <label class="control-label">Nº PROGRAMACIÓN: {{filtro.CodiProgramacion | formatCodiProgramacion}}</label>
                            </div>
                            <div class="col-md-4" style="text-align: right; font-size: 15px;">
                                <a @@click="nextStep(10)"
                                   :disabled="processing"
                                   href="javascript:void(0);"
                                   id="btnActualizar"
                                   tabindex="-1"
                                   style="display: inline-block; cursor: pointer; margin-right: 10px; color: black;">
                                    <img src="~/wwwroot/plugins/images/RELOAD.png" style="margin: 0px 0px 3px 10px; " draggable="false"/>
                                    <label style="cursor: pointer;">Actualizar</label>
                                </a>
                                <div @@click="hideVentas"
                                     style="display: inline-block; cursor: pointer; margin-right: 10px; color: black;">
                                    <img src="~/wwwroot/plugins/images/ATRAS.png" style="margin: 0px 0px 3px 10px; " draggable="false"/>
                                    <label style="cursor: pointer; ">Atrás</label>
                                </div>
                                <a @@click="cerrarVentas">
                                    <div style="display: inline-block; cursor: pointer;">
                                        <img src="~/wwwroot/plugins/images/CERRAR.png" style="margin: 0px 0px 3px 10px;" draggable="false"/>
                                    </div>
                                </a>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="panel-heading" style="padding: 5px 0px 5px 5px; ">
                                <img src="~/wwwroot/plugins/images/BUS3.png" draggable="false"/>
                                <label class="control-label" style="margin-left: 5px; font-size: 12px; display: inline; color: var(--emp-color); ">
                                    CON EMBARQUE EN: {{setCadenaEmbarques}}
                                </label>
                                <div class="panel-action">
                                    <button type="button"
                                            id="btnDesplegar"
                                            class="btn btn-sm waves-effect waves-light btn-emp"
                                            style="color: #fff; font-weight: 400;padding: 0px 10px 1px 10px;"
                                            href="#"
                                            data-perform="panel-collapse"
                                            tabindex="-1"
                                            @@click="showTextTurnos = !showTextTurnos">
                                        <template v-if="showTextTurnos">
                                            <span class="mdi mdi-arrow-down-bold-circle fa-fw"></span>DESPLEGAR TURNOS
                                        </template>
                                        <template v-else>
                                            <span class="mdi mdi-arrow-up-bold-circle fa-fw"></span>CONTRAER TURNOS
                                        </template>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div id="panelWrapperV" class="panel-wrapper collapse in">
                                <div class="panel-body" style="padding: 15px 0px 0px 0px; ">
                                    <div class="col-md-9">
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label class="control-label">Sucursal:</label>
                                                <v-select id="cboSucursal"
                                                          placeholder="SUCURSAL"
                                                          v-model="filtro.CodiSucursal"
                                                          :options="list.sucursales"
                                                          :select-on-tab="true"
                                                          :get-option-label="getLabel"
                                                          @@input="$refs.refSucursal.typeAheadPointer = $getSelectorVselect(list.sucursales, filtro.CodiSucursal)"
                                                          @@keydown.13.native.prevent="nextStep(2)"
                                                          @*@@keydown.9.native.prevent="nextStep(2)"*@
                                                          ref="refSucursal">
                                                    <template slot="option" slot-scope="option">
                                                        <div @@click="nextStep(2)">{{ option.id }} - {{ option.label }}</div>
                                                    </template>
                                                    <span slot="no-options" class="text-danger">No hay resultados</span>
                                                </v-select>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label class="control-label">Origen bus:</label>
                                                <v-select id="cboOrigenBus"
                                                          placeholder="ORIGEN BUS"
                                                          v-model="filtro.CodiOrigenBus"
                                                          :options="list.origenesBus"
                                                          :select-on-tab="true"
                                                          :get-option-label="getLabel"
                                                          @@input="$refs.refOrigenBus.typeAheadPointer = $getSelectorVselect(list.origenesBus, filtro.CodiOrigenBus)"
                                                          @@keydown.13.native.prevent="nextStep(3)"
                                                          @*@@keydown.9.native.prevent="nextStep(3)"*@
                                                          ref="refOrigenBus">
                                                    <template slot="option" slot-scope="option">
                                                        <div @@click="nextStep(3)">{{ option.id }} - {{ option.label }}</div>
                                                    </template>
                                                    <span slot="no-options" class="text-danger">No hay resultados</span>
                                                </v-select>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label class="control-label">P.V. Origen bus:</label>
                                                <v-select id="cboPVOrigenBus"
                                                          placeholder="P.V. ORIGEN BUS"
                                                          v-model="filtro.CodiPVOrigenBus"
                                                          :options="list.pvOrigenesBus"
                                                          :select-on-tab="true"
                                                          :get-option-label="getLabel"
                                                          @@input="$refs.refPVOrigenBus.typeAheadPointer = $getSelectorVselect(list.pvOrigenesBus, filtro.CodiPVOrigenBus)"
                                                          @@keydown.13.native.prevent="nextStep(4)"
                                                          @*@@keydown.9.native.prevent="nextStep(4)"*@
                                                          ref="refPVOrigenBus">
                                                    <template slot="option" slot-scope="option">
                                                        <div @@click="nextStep(4)">{{ option.id }} - {{ option.label }}</div>
                                                    </template>
                                                    <span slot="no-options" class="text-danger">No hay resultados</span>
                                                </v-select>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label class="control-label">Destino bus:</label>
                                                <v-select id="cboDestinoBus_2"
                                                          placeholder="DESTINO BUS"
                                                          v-model="filtro.CodiDestinoBus"
                                                          :options="list.destinosBus"
                                                          :select-on-tab="true"
                                                          :get-option-label="getLabel"
                                                          @@input="$refs.refDestinoBus_2.typeAheadPointer = $getSelectorVselect(list.destinosBus, filtro.CodiDestinoBus)"
                                                          @@keydown.13.native.prevent="nextStep(5)"
                                                          @*@@keydown.9.native.prevent="nextStep(5)"*@
                                                          ref="refDestinoBus_2">
                                                    <template slot="option" slot-scope="option">
                                                        <div @@click="nextStep(5)">{{ option.id }} - {{ option.label }}</div>
                                                    </template>
                                                    <span slot="no-options" class="text-danger">No hay resultados</span>
                                                </v-select>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label class="control-label">Servicio:</label>
                                                <v-select id="cboServicio"
                                                          placeholder="SERVICIO"
                                                          v-model="filtro.CodiServicio"
                                                          :options="list.servicios"
                                                          :select-on-tab="true"
                                                          :get-option-label="getLabel"
                                                          @@input="$refs.refServicio.typeAheadPointer = $getSelectorVselect(list.servicios, filtro.CodiServicio)"
                                                          @@keydown.13.native.prevent="nextStep(6)"
                                                          @*@@keydown.9.native.prevent="nextStep(6)"*@
                                                          ref="refServicio">
                                                    <template slot="option" slot-scope="option">
                                                        <div @@click="nextStep(6)">{{ option.id }} - {{ option.label }}</div>
                                                    </template>
                                                    <span slot="no-options" class="text-danger">No hay resultados</span>
                                                </v-select>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label class="control-label">Destino pasajero:</label>
                                                <v-select id="cboDestinoPas_2"
                                                          placeholder="DESTINO PASAJERO"
                                                          v-model="filtro.CodiDestinoPas"
                                                          :options="list.destinosPas"
                                                          :select-on-tab="true"
                                                          :get-option-label="getLabel"
                                                          @@input="$refs.refDestinoPas_2.typeAheadPointer = $getSelectorVselect(list.destinosPas, filtro.CodiDestinoPas)"
                                                          @@keydown.13.native.prevent="nextStep(7)"
                                                          @*@@keydown.9.native.prevent="nextStep(7)"*@
                                                          ref="refDestinoPas_2">
                                                    <template slot="option" slot-scope="option">
                                                        <div @@click.prevent="nextStep(7)">{{ option.id }} - {{ option.label }}</div>
                                                    </template>
                                                    <span slot="no-options" class="text-danger">No hay resultados</span>
                                                </v-select>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label class="control-label">Turno:</label>
                                                <input id="txtTurno"
                                                       class="form-control input-sm dph"
                                                       type="text"
                                                       placeholder="TURNO"
                                                       v-model="filtro.Turno"
                                                       v-mask="'##:## AM'"
                                                       @@focus="$event.target.select()"
                                                       @@keydown.13.prevent="nextStep(8)"
                                                       @*@@keydown.9.prevent="nextStep(8)"*@
                                                       @@blur="filtro.Turno = $getValueDateTimePicker_Hours($event)"
                                                       autocomplete="off" />
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label class="control-label">Fecha viaje:</label>
                                                <input id="txtFecha_2"
                                                       class="form-control input-sm dpFiltro"
                                                       type="text"
                                                       placeholder="FECHA"
                                                       v-model="filtro.Fecha"
                                                       v-mask="'##/##/####'"
                                                       @@focus="$event.target.select()"
                                                       @@keydown.13.prevent="nextStep(9)"
                                                       @*@@keydown.9.prevent="nextStep(9)"*@
                                                       @@blur="filtro.Fecha = $getValueDateTimePicker($event)"
                                                       autocomplete="off" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3" id="divOtrosTurnos" style="float: right;">
                                        <div style="border-left: 1px solid rgb(228, 231, 234); ">
                                            <label style="width: 100%; text-align: center; ">OTROS TURNOS</label>
                                            <div style="overflow-y:auto;height: 100px;">
                                                <ul style="list-style-type: none; padding-left: 0;">
                                                    <li v-for="item in list.turnos">
                                                        <a @@click="changeTurno(item)"
                                                           :title="item.HoraPartida + ' - ' + item.NomServicio"
                                                           style="cursor:pointer; font-weight: 500; color: var(--emp-color); "
                                                           :style="bgcEnlaceTurnos(item.HoraPartida, item.NomServicio)">
                                                            {{item.HoraPartida}}  -  {{item.NomServicio}}
                                                        </a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="BusVentas">
                        <div v-show="showPlano" class="col-md-12" style="background-color:white;height:40px;display:flex;">
                            <div class="col-md-9 bgc-emp" style="height:100%;border-radius: 8px 8px 0 0;margin-left: 20px; display: flex; align-items: center; color: white;">
                                <div class="col-md-1 ancho" @@click.prevent="changePickedBusVenta('V')">
                                    <input type="radio" id="ventaBV" value="V" v-model="pickedBusVenta" class="align-radio">
                                    <label for="ventaBV" class="align-label-radio">Venta</label>
                                </div>
                                <div class="col-md-1 ancho" @@click.prevent="changePickedBusVenta('R')">
                                    <input type="radio" id="reservaBV" value="R" v-model="pickedBusVenta" class="align-radio">
                                    <label for="reservaBV" class="align-label-radio">Reserva</label>
                                </div>
                                <div class="col-md-1 ancho" @@click.prevent="changePickedBusVenta('FA')">
                                    <input type="radio" id="fecAbiertaBV" value="FA" v-model="pickedBusVenta" class="align-radio">
                                    <label for="fecAbiertaBV" class="align-label-radio">F.&nbsp;Abierta</label>
                                </div>
                                <div class="col-md-1 ancho" @@click.prevent="changePickedBusVenta('7')">
                                    <input type="radio" id="paseBV" value="7" v-model="pickedBusVenta" class="align-radio">
                                    <label for="paseBV" class="align-label-radio">Pase</label>
                                </div>
                                <div class="col-md-1 ancho" @*@@click="changePickedBusVenta('ND2')"*@>
                                    <input type="radio" id="remotoBV" value="ND2" v-model="pickedBusVenta" class="align-radio" disabled="disabled">
                                    <label for="remotoBV" class="align-label-radio">Remoto</label>
                                </div>
                                <div class="col-md-1 ancho" @@click="changePickedBusVenta('99')">
                                    <input type="radio" id="retornoBV" value="ND3" v-model="pickedBusVenta" class="align-radio" disabled="disabled">
                                    <label for="retornoBV" class="align-label-radio">Retorno</label>
                                </div>
                                <div class="col-md-1 ancho" @@click.prevent="changePickedBusVenta('1')">
                                    <input type="radio" id="creditoBV" value="1" v-model="pickedBusVenta" class="align-radio">
                                    <label for="creditoBV" class="align-label-radio">Crédito</label>
                                </div>
                                <div class="col-md-1 ancho" @@click.prevent="changePickedBusVenta('PO')">
                                    <input type="radio" id="postergadoBV" value="PO" v-model="pickedBusVenta" class="align-radio">
                                    <label for="postergadoBV" class="align-label-radio">Postergación</label>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="col-md-5" style="text-align: center;top: 50%;transform: translateY(-50%);">
                                    <label id="lblNameDay_Fecha"
                                           class="control-label"
                                           style="color: var(--emp-color); font-size: 14px; font-weight: 500; ">
                                    </label>
                                </div>
                                <div class="col-md-7">
                                    <div class="form-group ">
                                        <input value="USUARIO: @usuario.CodiUsuario.ToString() - @usuario.Nombre.ToString().ToUpper()"
                                               type="text"
                                               class="form-control input-sm"
                                               placeholder="USUARIO"
                                               readonly="readonly"
                                               style="font-weight: 500; background-color: #fff; "
                                               autocomplete="off">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div v-show="showPlano" class="container-bus bgc-emp">
                            <div class="col-md-12" style="background-color: white; min-height: 30px;margin-bottom: 15px;border-radius: 4px; display: flex; align-items: center; ">
                                <div class="col-md-1">
                                    <img src="~/wwwroot/plugins/images/users/BUS2.png" style="margin: 0px 10px 2px;" draggable="false"/>
                                    <label style="margin-bottom: 0px; ">{{objPlano.CodiBus}}</label>
                                </div>
                                <div class="col-md-1">
                                    <img src="~/wwwroot/plugins/images/users/PLACA.png" style="margin: 0px 10px 2px;" draggable="false"/>
                                    <label style="margin-bottom: 0px; ">{{objPlano.PlacaBus}}</label>
                                </div>
                                <div class="col-md-2">
                                    <img src="~/wwwroot/plugins/images/users/CHOFER.png" style="margin: 0px 10px 2px;" draggable="false"/>
                                    <label style="margin-bottom: 0px; ">{{objPlano.NombreChofer}}</label>

                                </div>
                                <div class="col-md-2">
                                    <img src="~/wwwroot/plugins/images/users/CHOFER.png" style="margin: 0px 10px 2px;" draggable="false"/>
                                    <label style="margin-bottom: 0px; ">{{objPlano.NombreCopiloto}}</label>
                                </div>
                                <div class="col-md-6 text-right">
                                    <div v-for="item in list.destinosRuta" style="margin-right: 7px;display: inline-block;">
                                        <span class="mdi mdi-checkbox-blank-circle" :style="{color: item.Color}"></span>
                                        <label>{{item.Sigla}}</label>
                                    </div>
                                </div>
                            </div>
                            <div class="img-bus">
                                <img src="~/wwwroot/plugins/images/users/cabecera-bus.png" draggable="false"/>
                            </div>
                            <div class="table-responsive form-bus">

                                <template>
                                    <ul id="right-click-menu"
                                        tabindex="-1"
                                        ref="right"
                                        v-if="showContextMenu"
                                        @@blur="closeMenu"
                                        :style="{top: top, left: left}"
                                        v-show="showContextMenuBloquearAsiento() || itemSelected.FlagVenta !== ''">
                                        <li v-show="itemSelected.FlagVenta === 'V' || itemSelected.FlagVenta === '7' || itemSelected.FlagVenta === '1'"
                                            @@click="contextMenuReimprimir()">
                                            <i class="fa fa-print fa-fw" aria-hidden="true" style="color: var(--emp-color); "></i>
                                            Reimprimir
                                        </li>
                                        <li v-show="itemSelected.FlagVenta === 'V' || itemSelected.FlagVenta === '7' || itemSelected.FlagVenta === '1' ||
                                                    itemSelected.FlagVenta === 'R' || itemSelected.FlagVenta === 'AB'"
                                            @@click="contextMenuAnular()">
                                            <i class="fa fa-ban fa-fw" aria-hidden="true" style="color: var(--emp-color); "></i>
                                            Anular
                                        </li>
                                        <li v-show="itemSelected.FlagVenta === 'V' || itemSelected.FlagVenta === '7' || itemSelected.FlagVenta === '1'"
                                            @@click="contextMenuReintegro()">
                                            <i class="fa fa-ticket fa-fw" aria-hidden="true" style="color: var(--emp-color); "></i>
                                            Reintegro
                                        </li>
                                        <li v-show="showContextMenuBloquearAsiento()"
                                            @@click="contextMenuBloquearAsiento(itemSelected)">
                                            <i class="fa fa-times fa-fw" aria-hidden="true" style="color: red; "></i>
                                            Bloquear
                                        </li>
                                    </ul>
                                </template>

                                <table id="tblLista" class="table table-bus">
                                    <tbody>
                                        <tr draggable="false">
                                            <td v-for="(item, key) in list.plano1"
                                                class="bus-td">
                                                <template v-if="!isNaN(item.Tipo)">
                                                    <button :id="'btnAsiento_' + item.Tipo"
                                                            class="btn btn-bus"
                                                            :draggable="(pickedBusVenta == 'PO' && item.IdVenta != '') ? true : false"
                                                            @@dragstart="onDragstart(item)"
                                                            @@dragover.prevent
                                                            @@drop="onDrop($event, item)"
                                                            :title="showNombrePasajero(item.FechaVenta, item.Nombres, item.ApellidoPaterno, item.ApellidoMaterno)"
                                                            @@click="bloquearAsiento(item, true)"
                                                            @@contextmenu="openMenu($event, item)"
                                                            :style="bgcVentaBus(item.FechaVenta, item.Color, item.NumeAsiento, item.IDS, item.FlagVenta)"
                                                            :disabled="disabledAsiento">
                                                        <template v-if="item.FechaVenta">
                                                            <template v-if="item.FlagVenta == 'R'">
                                                                <div class="icons-of-seat">
                                                                    <span class="ios-center">
                                                                        <img src="~/wwwroot/plugins/images/r1.png" draggable="false"/>
                                                                    </span>
                                                                </div>
                                                            </template>
                                                            <template v-else-if="item.FlagVenta == 'VI'">
                                                                <div class="icons-of-seat">
                                                                    <span class="ios-center">
                                                                        <img src="~/wwwroot/plugins/images/v.png" draggable="false"/>
                                                                    </span>
                                                                </div>
                                                            </template>
                                                            <template v-else>
                                                                <div class="icons-of-seat">
                                                                    <span class="ios-left">
                                                                        <img :src="iconVentaBus(item.Sexo, item.Edad)" draggable="false"/>
                                                                    </span>
                                                                    <span class="ios-right">{{item.Sigla}}</span>
                                                                </div>
                                                            </template>
                                                        </template>
                                                        <template v-else>
                                                            <template v-if="item.FlagVenta == 'AB'">
                                                                <div class="icons-of-seat">
                                                                    <span class="ios-center">
                                                                        <img src="~/wwwroot/plugins/images/close.png" draggable="false"/>
                                                                    </span>
                                                                </div>
                                                            </template>
                                                        </template>
                                                        <div class="number-of-seat">
                                                            {{item.Tipo}}
                                                        </div>
                                                    </button>
                                                </template>
                                                <template v-else>
                                                    <span :class="[item.Tipo]"></span>
                                                </template>
                                            </td>
                                        </tr>
                                        <tr draggable="false">
                                            <td v-for="(item, key) in list.plano2"
                                                class="bus-td">
                                                <template v-if="!isNaN(item.Tipo)">
                                                    <button :id="'btnAsiento_' + item.Tipo"
                                                            class="btn btn-bus"
                                                            :draggable="(pickedBusVenta == 'PO' && item.IdVenta != '') ? true : false"
                                                            @@dragstart="onDragstart(item)"
                                                            @@dragover.prevent 
                                                            @@drop="onDrop($event, item)"
                                                            :title="showNombrePasajero(item.FechaVenta, item.Nombres, item.ApellidoPaterno, item.ApellidoMaterno)"
                                                            @@click="bloquearAsiento(item, true)"
                                                            @@contextmenu="openMenu($event, item)"
                                                            :style="bgcVentaBus(item.FechaVenta, item.Color, item.NumeAsiento, item.IDS, item.FlagVenta)"
                                                            :disabled="disabledAsiento">
                                                        <template v-if="item.FechaVenta">
                                                            <template v-if="item.FlagVenta == 'R'">
                                                                <div class="icons-of-seat">
                                                                    <span class="ios-center">
                                                                        <img src="~/wwwroot/plugins/images/r1.png" draggable="false"/>
                                                                    </span>
                                                                </div>
                                                            </template>
                                                            <template v-else-if="item.FlagVenta == 'VI'">
                                                                <div class="icons-of-seat">
                                                                    <span class="ios-center">
                                                                        <img src="~/wwwroot/plugins/images/v.png" draggable="false"/>
                                                                    </span>
                                                                </div>
                                                            </template>
                                                            <template v-else>
                                                                <div class="icons-of-seat">
                                                                    <span class="ios-left">
                                                                        <img :src="iconVentaBus(item.Sexo, item.Edad)" draggable="false"/>
                                                                    </span>
                                                                    <span class="ios-right">{{item.Sigla}}</span>
                                                                </div>
                                                            </template>
                                                        </template>
                                                        <template v-else>
                                                            <template v-if="item.FlagVenta == 'AB'">
                                                                <div class="icons-of-seat">
                                                                    <span class="ios-center">
                                                                        <img src="~/wwwroot/plugins/images/close.png" draggable="false"/>
                                                                    </span>
                                                                </div>
                                                            </template>
                                                        </template>
                                                        <div class="number-of-seat">
                                                            {{item.Tipo}}
                                                        </div>
                                                    </button>
                                                </template>
                                                <template v-else>
                                                    <span :class="[item.Tipo]"></span>
                                                </template>
                                            </td>
                                        </tr>
                                        <tr draggable="false">
                                            <td v-for="(item, key) in list.plano3"
                                                class="bus-td">
                                                <template v-if="!isNaN(item.Tipo)">
                                                    <button :id="'btnAsiento_' + item.Tipo"
                                                            class="btn btn-bus"
                                                            :draggable="(pickedBusVenta == 'PO' && item.IdVenta != '') ? true : false"
                                                            @@dragstart="onDragstart(item)"
                                                            @@dragover.prevent 
                                                            @@drop="onDrop($event, item)"
                                                            :title="showNombrePasajero(item.FechaVenta, item.Nombres, item.ApellidoPaterno, item.ApellidoMaterno)"
                                                            @@click="bloquearAsiento(item, true)"
                                                            @@contextmenu="openMenu($event, item)"
                                                            :style="bgcVentaBus(item.FechaVenta, item.Color, item.NumeAsiento, item.IDS, item.FlagVenta)"
                                                            :disabled="disabledAsiento">
                                                        <template v-if="item.FechaVenta">
                                                            <template v-if="item.FlagVenta == 'R'">
                                                                <div class="icons-of-seat">
                                                                    <span class="ios-center">
                                                                        <img src="~/wwwroot/plugins/images/r1.png" draggable="false"/>
                                                                    </span>
                                                                </div>
                                                            </template>
                                                            <template v-else-if="item.FlagVenta == 'VI'">
                                                                <div class="icons-of-seat">
                                                                    <span class="ios-center">
                                                                        <img src="~/wwwroot/plugins/images/v.png" draggable="false"/>
                                                                    </span>
                                                                </div>
                                                            </template>
                                                            <template v-else>
                                                                <div class="icons-of-seat">
                                                                    <span class="ios-left">
                                                                        <img :src="iconVentaBus(item.Sexo, item.Edad)" draggable="false"/>
                                                                    </span>
                                                                    <span class="ios-right">{{item.Sigla}}</span>
                                                                </div>
                                                            </template>
                                                        </template>
                                                        <template v-else>
                                                            <template v-if="item.FlagVenta == 'AB'">
                                                                <div class="icons-of-seat">
                                                                    <span class="ios-center">
                                                                        <img src="~/wwwroot/plugins/images/close.png" draggable="false"/>
                                                                    </span>
                                                                </div>
                                                            </template>
                                                        </template>
                                                        <div class="number-of-seat">
                                                            {{item.Tipo}}
                                                        </div>
                                                    </button>
                                                </template>
                                                <template v-else>
                                                    <span :class="[item.Tipo]"></span>
                                                </template>
                                            </td>
                                        </tr>
                                        <tr draggable="false">
                                            <td v-for="(item, key) in list.plano4"
                                                class="bus-td">
                                                <template v-if="!isNaN(item.Tipo)">
                                                    <button :id="'btnAsiento_' + item.Tipo"
                                                            class="btn btn-bus"
                                                            :draggable="(pickedBusVenta == 'PO' && item.IdVenta != '') ? true : false"
                                                            @@dragstart="onDragstart(item)"
                                                            @@dragover.prevent 
                                                            @@drop="onDrop($event, item)"
                                                            :title="showNombrePasajero(item.FechaVenta, item.Nombres, item.ApellidoPaterno, item.ApellidoMaterno)"
                                                            @@click="bloquearAsiento(item, true)"
                                                            @@contextmenu="openMenu($event, item)"
                                                            :style="bgcVentaBus(item.FechaVenta, item.Color, item.NumeAsiento, item.IDS, item.FlagVenta)"
                                                            :disabled="disabledAsiento">
                                                        <template v-if="item.FechaVenta">
                                                            <template v-if="item.FlagVenta == 'R'">
                                                                <div class="icons-of-seat">
                                                                    <span class="ios-center">
                                                                        <img src="~/wwwroot/plugins/images/r1.png" draggable="false"/>
                                                                    </span>
                                                                </div>
                                                            </template>
                                                            <template v-else-if="item.FlagVenta == 'VI'">
                                                                <div class="icons-of-seat">
                                                                    <span class="ios-center">
                                                                        <img src="~/wwwroot/plugins/images/v.png" draggable="false"/>
                                                                    </span>
                                                                </div>
                                                            </template>
                                                            <template v-else>
                                                                <div class="icons-of-seat">
                                                                    <span class="ios-left">
                                                                        <img :src="iconVentaBus(item.Sexo, item.Edad)" draggable="false"/>
                                                                    </span>
                                                                    <span class="ios-right">{{item.Sigla}}</span>
                                                                </div>
                                                            </template>
                                                        </template>
                                                        <template v-else>
                                                            <template v-if="item.FlagVenta == 'AB'">
                                                                <div class="icons-of-seat">
                                                                    <span class="ios-center">
                                                                        <img src="~/wwwroot/plugins/images/close.png" draggable="false"/>
                                                                    </span>
                                                                </div>
                                                            </template>
                                                        </template>
                                                        <div class="number-of-seat">
                                                            {{item.Tipo}}
                                                        </div>
                                                    </button>
                                                </template>
                                                <template v-else>
                                                    <span :class="[item.Tipo]"></span>
                                                </template>
                                            </td>
                                        </tr>
                                        <tr draggable="false">
                                            <td v-for="(item, key) in list.plano5"
                                                class="bus-td">
                                                <template v-if="!isNaN(item.Tipo)">
                                                    <button :id="'btnAsiento_' + item.Tipo"
                                                            class="btn btn-bus"
                                                            :draggable="(pickedBusVenta == 'PO' && item.IdVenta != '') ? true : false"
                                                            @@dragstart="onDragstart(item)"
                                                            @@dragover.prevent 
                                                            @@drop="onDrop($event, item)"
                                                            :title="showNombrePasajero(item.FechaVenta, item.Nombres, item.ApellidoPaterno, item.ApellidoMaterno)"
                                                            @@click="bloquearAsiento(item, true)"
                                                            @@contextmenu="openMenu($event, item)"
                                                            :style="bgcVentaBus(item.FechaVenta, item.Color, item.NumeAsiento, item.IDS, item.FlagVenta)"
                                                            :disabled="disabledAsiento">
                                                        <template v-if="item.FechaVenta">
                                                            <template v-if="item.FlagVenta == 'R'">
                                                                <div class="icons-of-seat">
                                                                    <span class="ios-center">
                                                                        <img src="~/wwwroot/plugins/images/r1.png" draggable="false"/>
                                                                    </span>
                                                                </div>
                                                            </template>
                                                            <template v-else-if="item.FlagVenta == 'VI'">
                                                                <div class="icons-of-seat">
                                                                    <span class="ios-center">
                                                                        <img src="~/wwwroot/plugins/images/v.png" draggable="false"/>
                                                                    </span>
                                                                </div>
                                                            </template>
                                                            <template v-else>
                                                                <div class="icons-of-seat">
                                                                    <span class="ios-left">
                                                                        <img :src="iconVentaBus(item.Sexo, item.Edad)" draggable="false"/>
                                                                    </span>
                                                                    <span class="ios-right">{{item.Sigla}}</span>
                                                                </div>
                                                            </template>
                                                        </template>
                                                        <template v-else>
                                                            <template v-if="item.FlagVenta == 'AB'">
                                                                <div class="icons-of-seat">
                                                                    <span class="ios-center">
                                                                        <img src="~/wwwroot/plugins/images/close.png" draggable="false"/>
                                                                    </span>
                                                                </div>
                                                            </template>
                                                        </template>
                                                        <div class="number-of-seat">
                                                            {{item.Tipo}}
                                                        </div>
                                                    </button>
                                                </template>
                                                <template v-else>
                                                    <span :class="[item.Tipo]"></span>
                                                </template>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div id="TicketsVentas">
                        <div v-show="showPlano" class="col-md-12" style="margin-top: 15px; padding: 0px; ">
                            <div class="col-md-1" style="height: 235px; width: 35px; padding-left: 0px; display: flex; align-items: center; ">
                                <div v-if="indexVenta > 0"
                                     @@click="leftSlider()"
                                     class="bgc-emp"
                                     style="border-radius: 0px 10px 10px 0px; ">
                                    <img src="~/wwwroot/plugins/images/chevron-left.png" style="width: 100%; height: 100%" draggable="false"/>
                                </div>
                            </div>
                            <div id="bannerVentas" class="col-md-10" style="border: 1px solid var(--emp-color); width: calc(100% - 70px); border-radius: 10px; padding: 15px 15px 10px 15px; background-color: white; z-index: 1">
                                <form autocomplete="off" @@submit.prevent>
                                    <div class="row">
                                        <div class="col-md-3" style="padding-left: 0px; padding-right: 0px; ">
                                            <div class="col-md-4">
                                                <div class="form-group"
                                                     :class="{'disabled-contenedor-NroAsiento': disabledCampoNroAsiento}"
                                                     style="border: 1px solid var(--emp-color); text-align: center; border-radius: 5px; padding: 5px 0px;">
                                                    <label class="control-label" style="width: 100%; font-weight: 500; color: var(--emp-color); ">Asiento</label>
                                                    <input v-model="list.ventas[indexVenta].NroAsiento"
                                                           @@keydown.13.prevent="enterTxtNroAsientoVenta($event)"
                                                           @*@@keydown.9.prevent="enterTxtNroAsientoVenta($event)"*@
                                                           @@blur="validateTxtNroAsientoVenta($event)"
                                                           @@focus="focusAsiento($event)"
                                                           id="txtNroAsientoVenta"
                                                           ref="refNroAsientoVenta"
                                                           class="form-control input-sm"
                                                           placeholder="Nº"
                                                           style="text-align: center; border-color: #FFF; font-size: 38px !important; font-weight: 500; color: var(--emp-color)"
                                                           :class="{'placeh-ticket-venta': auxFocus.asiento}"
                                                           :disabled="disabledCampoNroAsiento"
                                                           v-mask="'##'"
                                                           autocomplete="off">
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label class="control-label">Tipo doc.</label>
                                                    <v-select id="cboTipoDoc"
                                                              placeholder="TIPO"
                                                              ref="refTipoDoc"
                                                              v-model="list.ventas[indexVenta].CodiTipoDoc"
                                                              @@input="$refs.refTipoDoc.typeAheadPointer = $getSelectorVselect(list.tiposDoc, list.ventas[indexVenta].CodiTipoDoc)"
                                                              @@keydown.13.native.prevent="$refs.refDocumento.focus();"
                                                              @*@@keydown.9.native.prevent="$refs.refDocumento.focus();"*@
                                                              :options="list.tiposDoc"
                                                              :select-on-tab="true"
                                                              :get-option-label="labelOfDocumento"
                                                              :disabled="disabledCamposTicket_Pase"
                                                              name="Tipo">
                                                        <template slot="option" slot-scope="option">
                                                            <div @@click="$refs.refDocumento.focus();">{{ option.label }}</div>
                                                        </template>
                                                        <span slot="no-options" class="text-danger">No hay resultados</span>
                                                    </v-select>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label class="control-label"
                                                           style="min-width: calc(100% - 30px); width: calc(100% - 30px); display: inline-block; ">
                                                        Número
                                                    </label>
                                                    <button class="btn-info btn-xs"
                                                            title="Consultar a RENIEC"
                                                            tabindex="-1"
                                                            :disabled="disabledCamposTicket_Pase"
                                                            v-on:click="consultaReniec">
                                                        <i class="fa fa-refresh" aria-hidden="true"></i>
                                                    </button>
                                                    <input :value="list.ventas[indexVenta].Documento"
                                                           @@input="list.ventas[indexVenta].Documento = $event.target.value.toUpperCase()"
                                                           @@keydown.13.prevent="searchUser"
                                                           @*@@keydown.9.prevent="searchUser"*@
                                                           @@keydown.112.prevent="showBuscaClientePasaje($event)"
                                                           @@focus="$event.target.select()"
                                                           id="txtDocumento"
                                                           ref="refDocumento"
                                                           class="form-control input-sm"
                                                           placeholder="DOCUMENTO"
                                                           :disabled="disabledCamposTicket_Pase"
                                                           v-mask="mask.documento"
                                                           autocomplete="off">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label class="control-label"
                                                       style="min-width: calc(100% - 30px); width: calc(100% - 30px); display: inline-block; ">
                                                    Nombres
                                                </label>
                                                <button v-show="list.ventas[indexVenta].ValidadorClienteEspecial"
                                                        class="btn-warning btn-xs"
                                                        title="Cliente especial"
                                                        tabindex="-1">
                                                    <i class="fa fa-star" aria-hidden="true"></i>
                                                </button>
                                                <input v-model="list.ventas[indexVenta].Nombres"
                                                       @@input="list.ventas[indexVenta].Nombres = $filterLettersToName(list.ventas[indexVenta].Nombres)"
                                                       @@keydown.13.prevent="recorridoSectionVentas"
                                                       @*@@keydown.9.prevent="recorridoSectionVentas"*@
                                                       id="txtNombres"
                                                       ref="refNombres"
                                                       class="form-control input-sm"
                                                       :disabled="disabledCamposTicket_Pase"
                                                       style="font-size: 16px !important; font-weight: 500;"
                                                       placeholder="NOMBRES"
                                                       maxlength="200"
                                                       autocomplete="off">
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="form-group">
                                                <label class="control-label">Apellido paterno</label>
                                                <input v-model="list.ventas[indexVenta].ApellidoPaterno"
                                                       @@input="list.ventas[indexVenta].ApellidoPaterno = $filterLettersToName(list.ventas[indexVenta].ApellidoPaterno)"
                                                       @@keydown.13.prevent="recorridoSectionVentas"
                                                       @*@@keydown.9.prevent="recorridoSectionVentas"*@
                                                       id="txtApellidoPaterno"
                                                       ref="refApellidoPaterno"
                                                       class="form-control input-sm"
                                                       :disabled="disabledCamposTicket_Pase"
                                                       style="font-size: 16px !important; font-weight: 500;"
                                                       placeholder="PATERNO"
                                                       maxlength="50"
                                                       autocomplete="off">
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="form-group">
                                                <label class="control-label">Apellido materno</label>
                                                <input v-model="list.ventas[indexVenta].ApellidoMaterno"
                                                       @@input="list.ventas[indexVenta].ApellidoMaterno = $filterLettersToName(list.ventas[indexVenta].ApellidoMaterno)"
                                                       @@keydown.13.prevent="recorridoSectionVentas"
                                                       @*@@keydown.9.prevent="recorridoSectionVentas"*@
                                                       id="txtApellidoMaterno"
                                                       ref="refApellidoMaterno"
                                                       class="form-control input-sm"
                                                       :disabled="disabledCamposTicket_Pase"
                                                       style="font-size: 16px !important; font-weight: 500;"
                                                       placeholder="MATERNO"
                                                       maxlength="50"
                                                       autocomplete="off">
                                            </div>
                                        </div>
                                        <div class="col-md-2 text-center">
                                            <div class="form-group">
                                                <template v-if=" list.ventas[indexVenta].FlagVenta == '' ">
                                                    <label class="control-label"
                                                           style="font-size: 16px !important; font-weight: 500; color: var(--emp-color);">
                                                        N° {{Correlativo}}
                                                    </label>

                                                    <label class="control-label"
                                                           style="font-weight: 400; margin-top: 2px; ">
                                                        {{getFiltrosResumen}}
                                                    </label>

                                                </template>
                                                <template v-else>
                                                    <label class="control-label"
                                                           style="font-size: 16px !important; font-weight: 500; color: black;">
                                                        N° {{list.ventas[indexVenta].NroVenta | formatNroVenta}}
                                                    </label>
                                                </template>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-3" style="padding-left: 0px; padding-right: 0px; ">
                                            <div class="col-md-7 p-0">
                                                <div class="col-md-8">
                                                    <div class="form-group">
                                                        <label class="control-label">Fecha nac.</label>
                                                        <input id="txtFechaNac"
                                                               class="form-control input-sm dpyear"
                                                               type="text"
                                                               placeholder="FECHA NAC."
                                                               ref="refFechaNac"
                                                               :disabled="disabledCamposTicket"
                                                               v-model="list.ventas[indexVenta].FechaNac"
                                                               @@focus="$event.target.select()"
                                                               @@keydown.13.prevent="recorrerFechaNac()"
                                                               @*@@keydown.9.prevent="recorrerFechaNac()"*@
                                                               @@blur="setDateAndCalcYears()"
                                                               v-mask="'##/##/####'"
                                                               autocomplete="off">
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <label class="control-label">Edad</label>
                                                        <input :value="list.ventas[indexVenta].Edad"
                                                               id="txtEdad"
                                                               name="Edad"
                                                               class="form-control input-sm text-center"
                                                               placeholder="E"
                                                               style="cursor: not-allowed;"
                                                               disabled="disabled"
                                                               autocomplete="off">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-5">
                                                <div class="form-group">
                                                    <label class="control-label">Sexo</label>
                                                    <v-select id="cboSexo"
                                                              placeholder="SEXO"
                                                              label="label"
                                                              v-model="list.ventas[indexVenta].Sexo"
                                                              @@input="$refs.refSexo.typeAheadPointer = $getSelectorVselect(list.sexos, list.ventas[indexVenta].Sexo)"
                                                              @@keydown.13.native.prevent="recorridoSectionVentas"
                                                              @*@@keydown.9.native.prevent="recorridoSectionVentas"*@
                                                              :options="list.sexos"
                                                              :select-on-tab="true"
                                                              :disabled="disabledCamposTicket_Pase"
                                                              ref="refSexo">
                                                        <template slot="option" slot-scope="option">
                                                            <div @@click="$refs.refTelefono.focus()">{{ option.label }}</div>
                                                        </template>
                                                        <span slot="no-options" class="text-danger">No hay resultados</span>
                                                    </v-select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-1">
                                            <div class="form-group">
                                                <label class="control-label">Teléfono</label>
                                                <input v-model="list.ventas[indexVenta].Telefono"
                                                       @@keydown.13.prevent="recorridoSectionVentas($event.target.id)"
                                                       @*@@keydown.9.prevent="recorridoSectionVentas($event.target.id)"*@
                                                       @@focus="$event.target.select()"
                                                       id="txtTelefono"
                                                       ref="refTelefono"
                                                       class="form-control input-sm"
                                                       placeholder="TELÉFONO"
                                                       :disabled="disabledCamposTicket"
                                                       v-mask="'#'.repeat(9)"
                                                       autocomplete="off">
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label class="control-label">Recoger</label>
                                                <input :value="list.ventas[indexVenta].Recoger.toUpperCase()"
                                                       @@input="list.ventas[indexVenta].Recoger = $event.target.value.toUpperCase()"
                                                       @@keydown.13.prevent="recorridoTxtRecoger"
                                                       @*@@keydown.9.prevent="recorridoTxtRecoger"*@
                                                       id="txtRecoger"
                                                       ref="refRecoger"
                                                       class="form-control input-sm"
                                                       :disabled="disabledCamposTicket"
                                                       placeholder="RECOGER"
                                                       autocomplete="off">
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="form-group">
                                                <label class="control-label">Reintegro</label>
                                                <input :value="list.ventas[indexVenta].Reintegro"
                                                       id="txtReintegro"
                                                       class="form-control input-sm"
                                                       placeholder="REINTEGRO"
                                                       disabled="disabled">
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="form-group">
                                                <label class="control-label" style="width: 100%; ">Nº Solicitud</label>
                                                <input v-model="list.ventas[indexVenta].NroSolicitud"
                                                       @@keydown.13.prevent="recorridoTxtRecoger"
                                                       @*@@keydown.9.prevent="recorridoTxtRecoger"*@
                                                       id="txtNroSolicitud"
                                                       ref="refNroSolicitud"
                                                       class="form-control input-sm"
                                                       placeholder="Nº SOLICITUD"
                                                       v-mask="'#'.repeat(10)"
                                                       :disabled="disabledCampoNumSolicitud"
                                                       autocomplete="off">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-9" style="padding-left: 0px; padding-right: 0px;">
                                            <div class="col-md-7" style="padding-left: 0px; padding-right: 0px;">
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <label class="control-label" style="width: 100%; ">RUC</label>
                                                        <input v-model="list.ventas[indexVenta].Ruc"
                                                               @@keydown.13.prevent="searchEmpresa"
                                                               @*@@keydown.9.prevent="searchEmpresa"*@
                                                               @@focus="$event.target.select()"
                                                               id="txtRuc"
                                                               ref="refRuc"
                                                               name="ruc"
                                                               class="form-control input-sm"
                                                               placeholder="RUC"
                                                               v-mask="'#'.repeat(11)"
                                                               :disabled="disabledCamposTicket || disabledCredito"
                                                               autocomplete="off"
                                                               style="min-width: calc(100% - 30px); width: calc(100% - 30px); display: inline-block; ">
                                                        <button class="btn-info btn-xs"
                                                                title="Consultar a SUNAT"
                                                                tabindex="-1"
                                                                :disabled="disabledCamposTicket_Pase"
                                                                v-on:click="consultaSunat">
                                                            <i class="fa fa-refresh" aria-hidden="true"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                                <div class="col-md-8">
                                                    <div class="form-group">
                                                        <label class="control-label">Razón social</label>
                                                        <input :value="list.ventas[indexVenta].RazonSocial.toUpperCase()"
                                                               @@input="list.ventas[indexVenta].RazonSocial = $event.target.value.toUpperCase()"
                                                               @@keydown.13.prevent="recorridoTxtRuc"
                                                               @*@@keydown.9.prevent="recorridoTxtRuc"*@
                                                               id="txtRazonSocial"
                                                               ref="refRazonSocial"
                                                               name="razon_social"
                                                               max="100"
                                                               class="form-control input-sm"
                                                               placeholder="RAZÓN SOCIAL"
                                                               :disabled="disabledCamposTicket || disabledCredito || list.ventas[indexVenta].DisabledRazonSocial"
                                                               autocomplete="off">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-5">
                                                <div class="form-group">
                                                    <label class="control-label">Dirección fiscal</label>
                                                    <input :value="list.ventas[indexVenta].Direccion.toUpperCase()"
                                                           @@input="list.ventas[indexVenta].Direccion = $event.target.value.toUpperCase()"
                                                           @@keydown.13.prevent="recorridoTxtRuc"
                                                           @*@@keydown.9.prevent="recorridoTxtRuc"*@
                                                           id="txtDireccion"
                                                           ref="refDireccion"
                                                           name="direccion"
                                                           max="200"
                                                           class="form-control input-sm"
                                                           placeholder="DIRECCIÓN"
                                                           :disabled="disabledCamposTicket"
                                                           autocomplete="off">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-1">
                                            <div class="form-group">
                                                <label class="control-label" style="width: 100%; ">Fecha de venta</label>
                                                <input :value="list.ventas[indexVenta].FechaVen"
                                                       id="txtFechaVen"
                                                       class="form-control input-sm"
                                                       placeholder="DD/MM/YYYY"
                                                       disabled="disabled"
                                                       autocomplete="off" />
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="form-group">
                                                <label class="control-label">Nacionalidad</label>
                                                <input :value="list.ventas[indexVenta].Nacionalidad"
                                                       @@input="list.ventas[indexVenta].Nacionalidad = $event.target.value.toUpperCase()"
                                                       @@keydown.13.prevent="recorridoTxtRuc"
                                                       @*@@keydown.9.prevent="recorridoTxtRuc"*@
                                                       @@focus="$event.target.select()"
                                                       id="txtNacionalidad"
                                                       ref="refNacionalidad"
                                                       name="nacionalidad"
                                                       class="form-control input-sm"
                                                       placeholder="NACIONALIDAD"
                                                       :disabled="disabledCamposTicket"
                                                       v-mask="'A'.repeat(30)"
                                                       autocomplete="off" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-2">
                                            <div v-show="pickedBusVenta != 'R' && list.ventas[indexVenta].FlagVenta != 'R'">
                                                <div class="form-group">
                                                    <label class="control-label">Observación</label>
                                                    <textarea :value="list.ventas[indexVenta].Observacion"
                                                              id="txtObservacion"
                                                              class="form-control input-sm"
                                                              placeholder="OBSERVACIÓN"
                                                              style="height: 50px; resize: none; "
                                                              disabled="disabled">
                                                    </textarea>
                                                </div>
                                            </div>
                                            <div v-show="pickedBusVenta == 'R' || list.ventas[indexVenta].FlagVenta == 'R'">
                                                <div class="col-md-12" style="padding-left: 0px; padding-right: 0px; ">
                                                    <label class="control-label">Confirmación de reserva</label>
                                                </div>
                                                <div class="col-md-12" style="text-align: center; padding-left: 0px; padding-right: 0px; ">
                                                    <div class="col-md-6" style="padding-left: 0px; ">
                                                        <div class="form-group">
                                                            <input id="txtFechaReservacion"
                                                                   class="form-control input-sm dpFiltro"
                                                                   type="text"
                                                                   placeholder="FECHA"
                                                                   ref="refFechaReservacion"
                                                                   v-model="list.ventas[indexVenta].FechaReservacion"
                                                                   :disabled="disabledCamposTicket || list.ventas[indexVenta].FlagVenta == 'R'"
                                                                   @@focus="$event.target.select()"
                                                                   @@blur="list.ventas[indexVenta].FechaReservacion = $getValueDateTimePicker($event)"
                                                                   v-mask="'##/##/####'"
                                                                   autocomplete="off" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6" style="padding-right: 0px; ">
                                                        <div class="form-group">
                                                            <input id="txtHoraReservacion"
                                                                   class="form-control input-sm dph"
                                                                   type="text"
                                                                   placeholder="HORA"
                                                                   ref="refHoraReservacion"
                                                                   v-model="list.ventas[indexVenta].HoraReservacion"
                                                                   :disabled="disabledCamposTicket || list.ventas[indexVenta].FlagVenta == 'R'"
                                                                   @@focus="$event.target.select()"
                                                                   @@blur="list.ventas[indexVenta].HoraReservacion = $getValueDateTimePicker_Hours($event)"
                                                                   v-mask="'##:## AM'"
                                                                   autocomplete="off" />
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6" style="padding-left: 0px; padding-right: 0px; ">
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label">&nbsp;</label>
                                                    <textarea :value="list.ventas[indexVenta].Info"
                                                              id="txtInfo"
                                                              class="form-control input-sm"
                                                              style="height: 50px; resize: none; "
                                                              disabled="disabled">
                                                </textarea>
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="form-group text-center">
                                                    <label class="control-label" style="width: 100%; ">&nbsp;</label>
                                                    <div id="checkRegistrarNino" class="checkbox checkbox-info checkbox-circle">
                                                        <input v-model="setCheckRegistrarNino"
                                                               @@keydown.13.prevent="recorridoChckRegistrarNino"
                                                               @*@@keydown.9.prevent="recorridoChckRegistrarNino"*@
                                                               id="chckRegistrarNino"
                                                               ref="refRegistrarNino"
                                                               class="check-with-label"
                                                               type="checkbox">
                                                        <label for="chckRegistrarNino" class="label-for-check" style="min-height: initial; ">
                                                            REGISTRAR NI&Ntilde;O
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="form-group text-center">
                                                    <label class="control-label" style="width: 100%; font-weight: 500; color: var(--emp-color);">Precio S/.</label>
                                                    <input v-model="list.ventas[indexVenta].Precio"
                                                           id="txtPrecio"
                                                           ref="refPrecio"
                                                           class="form-control input-sm"
                                                           placeholder="0.00"
                                                           onPaste="return false"
                                                           @@input="list.ventas[indexVenta].Precio = $formatNumberWithTwoDecimals(list.ventas[indexVenta].Precio, 3)"
                                                           @@keydown.13.prevent="keyTxtPrecio($event)"
                                                           @*@@keydown.9.prevent="keyTxtPrecio($event)"*@
                                                           @@keydown.112.prevent="keyTxtPrecio($event)"
                                                           @@focus="focusPrecio($event)"
                                                           @@blur="validateRangePrice($event)"
                                                           :disabled="disabledCamposTicket"
                                                           :readonly="list.ventas[indexVenta].ReadonlyPrecio || readonlyPrecio_Credito"
                                                           :class="{'placeh-ticket-venta': auxFocus.precio}"
                                                           style="text-align: center; border-color: #FFF; font-size: 36px !important; font-weight: 500; color: var(--emp-color); background-color: #fff !important; "
                                                           autocomplete="off" />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="form-group">
                                                <div v-show="list.ventas.length > 0 && indexVenta === list.ventas.length - 1">
                                                    <label class="control-label">&nbsp;</label>
                                                    <button @@click="showTipoPago"
                                                            id="btnTipoPago"
                                                            ref="refTipoPago"
                                                            class="btn btn-secondary btn-ticket btn-venta"
                                                            style="width: 100%;"
                                                            :disabled="!this.list.ventas[this.indexVenta].NroAsiento || bloquearPagoPorFlagVenta">
                                                        <template v-if="pickedBusVenta == 'V' && list.ventas[indexVenta].FlagVenta == 'R'">
                                                            Confirmar Reserva
                                                        </template>
                                                        <template v-else>
                                                            $ Pago Total
                                                        </template>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="form-group">
                                                <label class="control-label">&nbsp;</label>
                                                <button @@click="cancelarBoletos"
                                                        class="btn btn-secondary btn-ticket btn-cancelar"
                                                        style="width: 100%; color:white;">
                                                    <span class="glyphicon glyphicon-remove fa-fw" style="top: 2px; "></span>
                                                    Cancelar
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="col-md-1" style="height: 235px; width: 35px; padding: 0px 0px 0px 2px; display: flex; align-items: center; ">
                                <div v-if="indexVenta < list.ventas.length - 1"
                                     @@click="rightSlider()"
                                     class="bgc-emp"
                                     style="border-radius: 10px 0px 0px 10px; ">
                                    <img src="~/wwwroot/plugins/images/chevron-right.png" style="width: 100%; height: 100%" draggable="false"/>
                                </div>
                            </div>
                        </div>
                        <div v-show="showPlano" class="col-md-12" style="margin-top: 5px; text-align: center;">
                            <div @@click="navButtonsBottomTicketsVenta(index)"
                                 v-for="(item, index) in list.ventas"
                                 style="display: inline-block; vertical-align: middle; margin-right: 5px;">
                                <span class="label label-rouded btn-mini-ticket"
                                      style="cursor: pointer;"
                                      :style="bgcMiniTicket(item.NroAsiento)">
                                    {{item.NroAsiento}}
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
